"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{12715:function(e,r,t){var n=t(10626);r.Z=void 0;var o=n(t(41631)),i=t(97458),a=(0,o.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");r.Z=a},98940:function(e,r,t){var n=t(10626);r.Z=void 0;var o=n(t(41631)),i=t(97458),a=(0,o.default)((0,i.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");r.Z=a},80650:function(e,r,t){t.d(r,{Z:function(){return J}});var n=t(45602),o=t(87830),i=t(36774),a=t(30785),s=t(12715),l=t(98940),c=t(69908),u=t(30679),d=t(59394),f=t(9283),g=t(40508),p=t(74754),b=t.n(p),h=t(66668),y=function(e,r,t){if(e&&"reportValidity"in e){var n=(0,h.U2)(t,r);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},v=function(e,r){var t=function(t){var n=r.fields[t];n&&n.ref&&"reportValidity"in n.ref?y(n.ref,t,e):n.refs&&n.refs.forEach((function(r){return y(r,t,e)}))};for(var n in r.fields)t(n)},j=function(e){return!function(e){return null==e}(e)&&!Array.isArray(e)&&function(e){return"object"==typeof e}(e)&&!function(e){return e instanceof Date}(e)},m=function(e,r,t){for(var n=-1,o=function(e){return/^\w*$/.test(e)}(r)?[r]:function(e){return r=e.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(r)?r.filter(Boolean):[];var r}(r),i=o.length,a=i-1;++n<i;){var s=o[n],l=t;if(n!==a){var c=e[s];l=j(c)||Array.isArray(c)?c:isNaN(+o[n+1])?{}:[]}e[s]=l,e=e[s]}return e},x=function(e,r){r.shouldUseNativeValidation&&v(e,r);var t={};for(var n in e){var o=(0,h.U2)(r.fields,n),i=Object.assign(e[n]||{},{ref:o&&o.ref});if(O(r.names||Object.keys(e),n)){var a=Object.assign({},(0,h.U2)(t,n));m(a,"root",i),m(t,n,a)}else m(t,n,i)}return t},O=function(e,r){return e.some((function(e){return e.startsWith(r+".")}))};function w(e,r,t){return void 0===r&&(r={}),void 0===t&&(t={}),function(n,o,i){try{return Promise.resolve(function(a,s){try{var l=(r.context,Promise.resolve(e["sync"===t.mode?"validateSync":"validate"](n,Object.assign({abortEarly:!1},r,{context:o}))).then((function(e){return i.shouldUseNativeValidation&&v({},i),{values:t.raw?n:e,errors:{}}})))}catch(c){return s(c)}return l&&l.then?l.then(void 0,s):l}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:x((r=e,t=!i.shouldUseNativeValidation&&"all"===i.criteriaMode,(r.inner||[]).reduce((function(e,r){if(e[r.path]||(e[r.path]={message:r.message,type:r.type}),t){var n=e[r.path].types,o=n&&n[r.type];e[r.path]=(0,h.KN)(r.path,t,e,r.type,o?[].concat(o,r.message):r.message)}return e}),{})),i)};var r,t})))}catch(a){return Promise.reject(a)}}}var Z=t(37404),k=t(34456),C=t(52983),P=t(50981),D=t.n(P),E=t(18648),S=t(43405),A=t(28365),M=t(62831),L=t(53956),R=t(47922),B=t(58774),U=t(66187),I=t(75574),_=t(27799),G=t(99609),N=t(70019),V=t(97458);function W(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?W(Object(t),!0).forEach((function(r){(0,g.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var z=E.Ry().shape({email:E.Z_().matches(/^\S+$/,"emailAddressError").required("login.emailAddressRequired").transform((function(e){return e.trim()})).default(""),password:E.Z_().required("login.passwordRequired").default("")}),F=D()().publicRuntimeConfig,T=U.FU.CREDENTIALS,H=U.FU.FACEBOOK,K=U.FU.GOOGLE,$=function(e,r){var t=e.locale,n=e.pathname,o=e.query;return e.push({pathname:n,query:q(q({},o),{},{error:r})},null,{locale:t})};function J(e){var r,t=e.makeStyles,g=e.nextPagePath,p=e.hideContinueWithFacebook,y=e.showContinueWithGoogle,v=(0,S.wx)(),j=(0,k.useRouter)(),m=j.locale,x=(0,R.D)().sendAlert,O=z.getDefault(),P=(0,h.cI)({defaultValues:O,resolver:w(z),mode:"onTouched"}),D=P.register,E=P.reset,U=P.handleSubmit,W=P.formState.errors,J=(0,C.useState)(!1),Q=J[0],X=J[1],Y=(0,C.useState)(null),ee=Y[0],re=Y[1],te=(0,C.useState)(!1),ne=te[0],oe=te[1],ie=(0,C.useState)({credentials:{loading:!1,disabled:!1},facebook:{loading:!1,disabled:!1},google:{loading:!1,disabled:!1}}),ae=ie[0],se=ie[1],le=(0,C.useState)(j.query.callbackUrl),ce=le[0],ue=le[1],de=(0,B.p)({url:ce||g||"",baseUrl:F.baseUrl,locale:j.locale}),fe=(0,M.Fu)(m),ge="https://support.myfitnesspal.com/hc/".concat(fe,"/articles/360032625071-Eating-Disorder-Resources"),pe=function(e){var r={credentials:{loading:!1,disabled:!0},facebook:{loading:!1,disabled:!0},google:{loading:!1,disabled:!0}};r[e].loading=!0,se(r)},be=function(){se({credentials:{loading:!1,disabled:!1},facebook:{loading:!1,disabled:!1},google:{loading:!1,disabled:!1}})},he=(0,C.useMemo)((function(){return t(ae.credentials.loading||ae.facebook.loading||ae.google.loading)}),[ae.credentials.loading,ae.facebook.loading,ae.google.loading,t]),ye=function(){var e=(0,f.Z)(b().mark((function e(r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),pe(r),e.next=4,(0,Z.signIn)(r,{callbackUrl:de});case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),ve=function(){var e=(0,f.Z)(b().mark((function e(r){var t,n,o,i,a,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.email,n=r.password,pe(T),e.prev=2,e.next=5,(0,A.s)("login");case 5:return o=e.sent,e.next=8,(0,Z.signIn)(T,{username:t,password:n,redirect:!1,token:o});case 8:return i=e.sent,e.next=11,(0,Z.getSession)();case 11:if(a=e.sent,s=(null===a||void 0===a?void 0:a.locale)||j.locale,!a){e.next=18;break}return e.next=16,(0,L.D9)("login",v,x);case 16:e.next=20;break;case 18:return be(),e.abrupt("return",$(j,i.error));case 20:return e.abrupt("return",window.location.assign((0,M.mC)(de,s,j)));case 23:e.prev=23,e.t0=e.catch(2),be();case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(r){return e.apply(this,arguments)}}();return(0,C.useEffect)((function(){var e,r,t,n={MobileClientError:v("login.error"),ServerError:v("login.serverError"),Signin:v("login.oAuthError"),OAuthSignin:v("login.oAuthError"),OAuthCallback:v("login.oAuthError"),OAuthCreateAccount:v("login.oAuthError"),Callback:v("login.oAuthError"),OAuthAccountNotLinked:v("login.oAuthAccountNotLinkedError"),CredentialsSignin:v("login.error"),RecaptchaFailed:v("login.recaptchaFailed"),UnderageRestricted:v("accountRestrictedErrorMessage",{termsLink:(0,V.jsx)(d.Z,{variant:"Body/Regular/MD",children:(0,V.jsx)(N.Z,{sx:he.link,target:"_blank",href:(_SiteOneUrlDepth > 0 ? "../".repeat(_SiteOneUrlDepth) : "./")+"terms-of-service",children:v("privacyandterms.termsAndConditions")})}),communityGuidelinesLink:(0,V.jsx)(d.Z,{variant:"Body/Regular/MD",children:(0,V.jsx)(N.Z,{sx:he.link,target:"_blank",href:(_SiteOneUrlDepth > 0 ? "../".repeat(_SiteOneUrlDepth) : "./")+"terms-of-service",children:v("footer.communityGuidelines")})}),specificErrorMessage:v("underageErrorMessage",{nutritionLink:(0,V.jsx)(d.Z,{variant:"Body/Regular/MD",children:(0,V.jsx)(N.Z,{sx:he.link,target:"_blank",href:"https://www.nutrition.gov/",children:"nutrition.gov"})})})}),EatingDisorderRestricted:v("accountRestrictedErrorMessage",{termsLink:(0,V.jsx)(d.Z,{variant:"Body/Regular/MD",children:(0,V.jsx)(N.Z,{sx:he.link,target:"_blank",href:(_SiteOneUrlDepth > 0 ? "../".repeat(_SiteOneUrlDepth) : "./")+"terms-of-service",children:v("privacyandterms.termsAndConditions")})}),communityGuidelinesLink:(0,V.jsx)(d.Z,{variant:"Body/Regular/MD",children:(0,V.jsx)(N.Z,{sx:he.link,target:"_blank",href:(_SiteOneUrlDepth > 0 ? "../".repeat(_SiteOneUrlDepth) : "./")+"community-guidelines",children:v("footer.communityGuidelines")})}),specificErrorMessage:v("eatingDisorderErrorMessage",{supportLink:(0,V.jsx)(d.Z,{variant:"Body/Regular/MD",children:(0,V.jsx)(N.Z,{sx:he.link,target:"_blank",href:ge,children:ge})})})}),ContinueWithGoogleError:v("login.googleAccountDoesNotExist",{style:function(e){return(0,V.jsx)(d.Z,{variant:"Heading/Semibold/SM",display:"block",children:e})},link:(0,V.jsx)(d.Z,{variant:"Body/Regular/MD",children:(0,V.jsx)(N.Z,{href:(_SiteOneUrlDepth > 0 ? "../".repeat(_SiteOneUrlDepth) : "./")+"account/create/welcome",sx:he.link,children:v("accountMenu.signUp")})})})};n[null===(e=j.query)||void 0===e?void 0:e.error]?re(n[null===(t=j.query)||void 0===t?void 0:t.error]):null!==(r=j.query)&&void 0!==r&&r.error?re(v("login.serverError")):re(null)}),[v,null===(r=j.query)||void 0===r?void 0:r.error,ge,he.link]),(0,C.useEffect)((function(){ne&&E()}),[ne,E]),(0,C.useEffect)((function(){if(/apps/.test(ce)){var e=new URL("".concat(F.baseUrl,"/").concat(j.locale,"/apps/logged_in_index")).toString();ue(e)}}),[ce,j.locale]),(0,V.jsxs)(o.Z,{sx:he.container,"data-testid":"login-form",component:"form",onSubmit:U(ve),children:[ee&&(0,V.jsx)(u.Z,{sx:he.alert,severity:"error",children:ee}),(0,V.jsxs)(o.Z,{sx:he.inputContainer,children:[(0,V.jsx)(c.Z,q(q({},D("email")),{},{autoComplete:"email",error:!!W.email,label:v("emailAddressCapitalized"),placeholder:v("emailAddressCapitalized"),id:"email",variant:"outlined",sx:he.input,InputProps:{style:he.inputRoot},fullWidth:!0})),!!W.email&&(0,V.jsx)(d.Z,{sx:he.error,color:"error",component:"p",variant:"Body/Regular/MD",role:"alert",children:v(W.email.message)}),(0,V.jsx)(c.Z,q(q({},D("password")),{},{autoComplete:"current-password",error:!!W.password,label:v("login.password"),placeholder:v("login.password"),id:"password",type:Q?"text":"password",variant:"outlined",sx:q(q({},he.input),he.passwordInput),InputProps:{style:he.inputRoot,endAdornment:(0,V.jsx)(i.Z,{position:"end",children:(0,V.jsx)(a.Z,{onClick:function(){X(!Q)},edge:"end","aria-label":v(Q?"hidePassword":"showPassword"),children:Q?(0,V.jsx)(l.Z,{}):(0,V.jsx)(s.Z,{})})})},fullWidth:!0})),!!W.password&&(0,V.jsx)(d.Z,{sx:he.error,color:"error",component:"p",variant:"Body/Regular/MD",role:"alert",children:v(W.password.message)}),(0,V.jsx)(d.Z,{color:"textSecondary",variant:"Body/Regular/MD",component:"p",gutterBottom:!0,children:(0,V.jsx)(N.Z,{sx:he.forgotPassword,href:(_SiteOneUrlDepth > 0 ? "../".repeat(_SiteOneUrlDepth) : "./")+"account/forgot-password",children:v("login.forgotPassword")})})]}),(0,V.jsxs)(o.Z,{sx:he.buttonWrapper,children:[(0,V.jsx)(I.Z,{fullWidth:!0,loading:ae.credentials.loading,disabled:ae.credentials.disabled||ae.credentials.loading||ae.facebook.loading||ae.google.loading,sx:q(q({},he.button),he.loginButton),endIcon:(0,V.jsx)(n.Z,{}),type:"submit",children:(0,V.jsx)(d.Z,{variant:"Button/Titlecase/LG",children:v("logIn")})}),(!p||y)&&(0,V.jsx)(d.Z,{sx:he.orText,children:v("or")}),y&&(0,V.jsx)(G.Z,{customStyles:q(q({},he.button),he.googleButton),onClick:function(){return ye(K)},isLoading:ae.google.loading,isDisabled:ae.google.disabled,children:(0,V.jsx)(d.Z,{variant:"Button/Titlecase/LG",sx:he.continueButtonText,children:v("continueWithGoogle")})}),!p&&(0,V.jsx)(_.Z,{customStyles:q(q({},he.button),he.facebookButton),onClick:function(){return ye(H)},isLoading:ae.facebook.loading,isDisabled:ae.facebook.disabled||ae.google.loading||ae.credentials.loading,children:(0,V.jsx)(d.Z,{variant:"Button/Titlecase/LG",sx:he.continueButtonText,children:v("continueWithFB")})})]})]})}},27799:function(e,r,t){var n=t(3816),o=t(23923),i=t(40508),a=t(75574),s=t(97458),l=["children","isLoading","isDisabled","customStyles"];function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.Z=function(e){var r=e.children,t=e.isLoading,i=e.isDisabled,c=e.customStyles,d=(0,o.Z)(e,l),f=function(e,r){var t=e?"center":r.justifyContent,n=e?"none":"inline";return{button:u(u({},r),{},{justifyContent:t}),facebookIcon:{fontSize:"23px",color:"common.neutrals.white",display:n}}}(t,c);return(0,s.jsx)(a.Z,u(u({sx:f.button,fullWidth:!0,startIcon:(0,s.jsx)(n.Z,{sx:f.facebookIcon}),loading:t,disabled:i},d),{},{children:r}))}},99609:function(e,r,t){t.d(r,{Z:function(){return p}});var n=t(23923),o=t(40508),i=t(27334),a=t(97458);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var c=function(e){return(0,a.jsxs)(i.Z,l(l({},e),{},{children:[(0,a.jsx)("path",{d:"M19.0711 4.92893C18.0408 3.89861 16.7977 3.1059 15.429 2.60627C14.0602 2.10664 12.5988 1.91216 11.147 2.03644C9.69527 2.16073 8.28819 2.60077 7.02428 3.32578C5.76037 4.05078 4.67016 5.04324 3.82996 6.23368L6.10143 7.83686C6.70803 6.97739 7.49513 6.26086 8.40765 5.73742C9.32016 5.21398 10.336 4.89628 11.3842 4.80655C12.4323 4.71682 13.4874 4.85723 14.4756 5.21795C15.4638 5.57868 16.3613 6.151 17.1051 6.89486L19.0711 4.92893Z",fill:"#EA4335"}),(0,a.jsx)("path",{d:"M3.83148 6.23153C2.84897 7.62282 2.23811 9.24201 2.05681 10.9356C1.87551 12.6291 2.12979 14.3409 2.79553 15.9087L5.3546 14.822C4.87395 13.6901 4.69037 12.4542 4.82126 11.2315C4.95215 10.0088 5.39318 8.83978 6.10252 7.8353L3.83148 6.23153Z",fill:"#FBBC05"}),(0,a.jsx)("path",{d:"M2.79207 15.9005C3.43992 17.4299 4.45853 18.7739 5.75591 19.811C7.05328 20.8481 8.58855 21.5457 10.2231 21.8409C11.8576 22.136 13.5399 22.0194 15.1181 21.5015C16.6962 20.9836 18.1205 20.0807 19.2624 18.8745L17.2432 16.9632C16.4189 17.8341 15.3906 18.4859 14.2512 18.8598C13.1118 19.2337 11.8972 19.3179 10.7171 19.1049C9.53702 18.8918 8.42859 18.3881 7.49192 17.6393C6.55524 16.8906 5.81983 15.9203 5.35209 14.8161L2.79207 15.9005Z",fill:"#33A852"}),(0,a.jsx)("path",{d:"M22 11H13V14H18.9372C18.8808 14.1956 18.8161 14.3891 18.7431 14.5799C18.4043 15.4654 17.8944 16.2755 17.2425 16.964L19.2613 18.8756C20.1642 17.922 20.8705 16.7999 21.3397 15.5734C21.7763 14.4323 21.9999 13.2215 22 12.0012V11Z",fill:"#4687F5"})]}))},u=t(75574),d=["children","isLoading","isDisabled","customStyles"];function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var p=function(e){var r=e.children,t=e.isLoading,o=e.isDisabled,i=e.customStyles,s=(0,n.Z)(e,d),l=function(e,r){var t=e?"center":r.justifyContent;return{button:g(g({},r),{},{justifyContent:t}),googleIcon:{fontSize:"23px",display:e?"none":"inline"}}}(t,i);return(0,a.jsx)(u.Z,g(g({sx:l.button,fullWidth:!0,startIcon:(0,a.jsx)(c,{sx:l.googleIcon}),loading:t,disabled:o||t},s),{},{children:r}))}}}]);
//# sourceMappingURL=650-5c774655687fc4ac.js.map